// NEWEST

internal/
  application/
    usecase/            # write-side actions (commands)
    queries/            # read-side actions (queries)
    services/           # thin facades delegating to usecases + queries
    ports/
      outbound/
        repo.go         # write repos
        readstore.go    # read ports (if different from write)




├── internal/                              // Private application code (not exposed externally)
│   ├── domain/                            // Core domain layer: entities, aggregates, business rules
│   │   ├── session.go                     // Domain entity for "Session" (session logic, expiration, etc.)
│   │   └── user/                       
│   │       ├── services/                  // Domain services for user logic
│   │       │   └── create_session_service.go  // E.g., logic for creating a user
│   │       └── command_bus.go             //  Domain-specific command bus for user commands
│   │   └── session/                       
│   │       ├── services/                  // Domain services for session logic
│   │       │   └── create_session_service.go  // E.g., logic for creating a session
│   │       └── command_bus.go             //  Domain-specific command bus for session commands


// OUR CHOSEN ARCHITECTURE WITH RBAC

goproject_with_files/                      // Root directory of your Go project (Go module)
├── cmd/                                   // Main executables (entry points)
│   ├── app/                               // Primary server (HTTP/WS/gRPC server)
│   │   └── main.go                        // Entry point for the app; sets up DI, routes, servers, etc.
│   └── worker/                            // Background workers (queue consumers, cron jobs)
│       └── main.go                        // Entry point for worker processes
├── internal/                              // Private application code (not exposed externally)
│   ├── domain/                            // Core domain layer: entities, aggregates, and pure business rules
│   │   ├── session.go                     // Domain entity for "Session" (logic about session expiration, ownership)
│   │   ├── user.go                        // Domain entity for "User" (logic about user validation, roles, etc.)
│   │   └── security/                      // Domain RBAC system
│   │       ├── role.go                    // Defines the Role entity (e.g., Admin, Player, Guest)
│   │       ├── permission.go              // Defines permissions (e.g., CreateSession, JoinGame)
│   │       ├── policy.go                  // Domain policies and rules for access control
│   │       └── rbac.go                    // Core RBAC logic (e.g., functions to check roles/permissions)
│   ├── application/                       // Application/use-case layer: commands, queries, services, and ports
│   │   ├── commands/                      // "Commands" side of CQRS (write operations)
│   │   │   ├── command_handler.go         // Base interfaces or types for handling commands
│   │   │   ├── register_user.go           // Command and handler for registering a new user
│   │   │   ├── start_user_session.go      // Command and handler to start a user session
│   │   │   └── end_user_session.go        // Command and handler to end a user session
│   │   ├── queries/                       // "Queries" side of CQRS (read operations)
│   │   │   ├── query_handler.go           // Base interfaces or types for handling queries
│   │   │   ├── get_user.go                // Query and handler to retrieve a single user
│   │   │   ├── get_user_session_status.go // Query and handler to check a user session's status
│   │   │   └── list_active_sessions.go    // Query and handler to list active sessions for a user
│   │   ├── services/                      // Higher-level application services for orchestrating domain use cases
│   │   │   ├── session_service.go         // Application service for session-related orchestration
│   │   │   ├── user_service.go            // Application service for user-related orchestration
│   │   │   └── security_service.go        // Application service for RBAC (e.g., checking permissions)
│   │   ├── command_bus.go                 // Application-level command bus that routes incoming commands to service handlers
│   │   └── ports/                         // Defines inbound and outbound ports (interfaces) for the application layer
│   │       ├── inbound/                   // Inbound ports (primary adapters) for external client calls
│   │       │   ├── rest/                  // REST/HTTP controllers and routers
│   │       │   │   └── api.go             // Example REST API endpoints and routes
│   │       │   └── websocket/             // WebSocket inbound logic
│   │       │       ├── handler.go         // Upgrades HTTP to WebSocket, manages connection logic
│   │       │       ├── connection.go      // Handles read/write loops on a single WebSocket connection
│   │       │       ├── hub.go             // Manages multiple connections (register, unregister, broadcast)
│   │       │       ├── message.proto      // Protobuf schema for WebSocket messages (if using Protobuf)
│   │       │       └── message.pb.go      // Generated Go code from the .proto file
│   │       └── outbound/                  // Outbound ports for external storage and services
│   │           ├── user_repository.go     // Interface for persisting/fetching users (implemented by adapters)
│   │           └── session_repository.go  // Interface for persisting/fetching sessions (implemented by adapters)
│   ├── adapters/                          // Concrete implementations of outbound ports (e.g., DB, external APIs, messaging)
│   │   ├── persistence/                   // Persistence layer: database-specific logic
│   │   │   ├── session_repository_postgres.go // Postgres implementation of SessionRepository
│   │   │   └── user_repository_postgres.go    // Postgres implementation of UserRepository
│   │   ├── externalapi/                   // Example external API clients
│   │   │   └── external_api_client.go     // Implementation for calling a third-party REST service
│   │   └── messaging/                     // Messaging and event bus adapters
│   │       ├── event_bus.go              // Implementation for publishing/subscribing domain events (e.g., Kafka, NATS)
│   │       ├── command_bus.go            // Generic command bus implementation (used by both application & domain layers)
│   │       └── query_bus.go              // Implementation for dispatching queries
│   └── utils/                             // Shared internal helpers and utilities
│       └── error_utils.go                // Common error handling and custom error wrappers
├── migrations/                            // Database migration scripts and documentation
│   ├── 001_init.sql                       // Initial database schema definition (tables, indexes, etc.)
│   └── README.md                          // Instructions or notes for running migrations
├── test/                                  // Integration and end-to-end tests (separate from unit tests)
│   ├── integration/
│   │   └── user_integration_test.go       // Integration tests verifying user flows with a real/test DB
│   └── e2e/
│       └── session_e2e_test.go            // End-to-end tests covering session scenarios from the client perspective
├── pkg/                                   // Shared libraries usable across modules (configuration, logging, etc.)
│   ├── config/                           
│   │   ├── config.yaml                    // Application configuration defaults (e.g., DB host, feature flags)
│   │   └── config_loader.go               // Parses config.yaml and merges with environment variables
│   └── logger/
│       └── logger.go                      // Logging wrapper (e.g., using Zap, Logrus, etc.)
├── go.mod                                 // Go module definition (module name, dependency versions)
└── go.sum                                 // Checksums for dependencies (managed by go mod)


// OUR CHOSEN ARCHITECTURE WITH DOMAIN SERVICES

goproject_with_files/                      // Root directory of your Go project (Go module)
├── cmd/                                   // Main executables
│   ├── app/                               // Primary server (e.g., HTTP/WS/gRPC server)
│   │   └── main.go                        // Sets up dependency injection, starts the server, etc.
│   └── worker/                            // Background worker processes (e.g., queue consumers)
│       └── main.go                        
├── internal/                              // Private application code (not exposed externally)
│   ├── domain/                            // Core domain layer: entities, aggregates, business rules
│   │   ├── session.go                     // Domain entity for "Session" (session logic, expiration, etc.)
│   │   ├── user.go                        // Domain entity for "User" (user validation, roles, etc.)
│   │   └── session/                       
│   │       ├── services/                  // Domain services for session logic
│   │       │   └── create_session_service.go  // E.g., logic for creating a session
│   │       └── command_bus.go             // (Optional) Domain-specific command bus for session commands
│   ├── application/                       // Application/use-case layer: commands, queries, orchestration services
│   │   ├── commands/                      // Commands that change system state (CQRS write side)
│   │   │   ├── command_handler.go         // Base interfaces or types for handling commands
│   │   │   ├── register_user.go           // Command & handler for registering a new user
│   │   │   ├── start_user_session.go      // Command & handler to start a user session
│   │   │   └── end_user_session.go        // Command & handler to end a user session
│   │   ├── queries/                       // Queries (CQRS read side)
│   │   │   ├── query_handler.go           // Base interfaces or types for handling queries
│   │   │   ├── get_user.go                // Query & handler to retrieve a single user
│   │   │   ├── get_user_session_status.go // Query & handler to check session status
│   │   │   └── list_active_sessions.go    // Query & handler to list active sessions for a user
│   │   ├── services/                      // Higher-level orchestration services
│   │   │   ├── session_service.go         // Application service that orchestrates session-related use cases
│   │   │   └── user_service.go            // Application service for user-related use cases
│   │   └── command_bus.go                 // Application-level command bus for orchestrating commands
│   │       // This bus receives commands from the inbound ports and routes them to application service handlers.
│   ├── adapters/                          // Concrete implementations of outbound ports (DB, external APIs, messaging)
│   │   ├── persistence/                   // Persistence layer: DB-specific logic
│   │   │   ├── session_repository_postgres.go  // Postgres implementation of SessionRepository
│   │   │   └── user_repository_postgres.go     // Postgres implementation of UserRepository
│   │   ├── externalapi/                   // External API client(s)
│   │   │   └── external_api_client.go
│   │   └── messaging/                     // Messaging adapters for event buses and command buses
│   │       ├── event_bus.go              // Implements event publishing/subscription (e.g., Kafka, NATS)
│   │       ├── command_bus.go            // Generic command bus implementation (could be used for both layers)
│   │       └── query_bus.go              // Implements query dispatching
│   └── utils/                             // Shared helper functions and utilities
│       └── error_utils.go                
├── migrations/                            // Database migrations and related docs
├── test/                                  // Integration and end-to-end tests
├── pkg/                                   // Shared libraries (configuration, logging, etc.)
│   ├── config/                           
│   │   └── config_loader.go              
│   └── logger/
│       └── logger.go                      
├── go.mod                                 // Module definition
└── go.sum                                 // Dependency checksums















// OUR OLD CHOSEN ARCHITECTURE

goproject_with_files/                      // Root directory of your Go project (Go module)
├── cmd/                                   // "cmd/" is the conventional place for main packages (executables)
│   ├── app/                               // The main app (e.g., the primary HTTP/WS/gRPC server)
│   │   └── main.go                        // Entry point for "app" executable, sets up DI, starts server, etc.
│   └── worker/                            // Another main package for background jobs/worker processes
│       └── main.go                        // Entry point for "worker" executable (e.g., queue consumer, cron tasks)
├── internal/                              // Private application code, inaccessible to external modules
│   ├── domain/                            // Core domain layer: entities, aggregates, and pure business rules
│   │   ├── session.go                     // Domain entity for "Session" (logic about session expiration, ownership)
│   │   └── user.go                        // Domain entity for "User" (logic about user validation, roles, etc.)
│   ├── application/                       // Application/use-case layer: commands, queries, services
│   │   ├── commands/                      // "Commands" side of CQRS or use cases that change system state
│   │   │   ├── command_handler.go         // Base interface or types for handling commands
│   │   │   ├── register_user.go           // Command + handler for registering a new user
│   │   │   ├── start_user_session.go      // Command + handler to start a user session
│   │   │   └── end_user_session.go        // Command + handler to end a user session
│   │   ├── queries/                       // "Queries" side of CQRS or read-only use cases
│   │   │   ├── query_handler.go           // Base interface or types for handling queries
│   │   │   ├── get_user.go                // Query + handler to retrieve a single user
│   │   │   ├── get_user_session_status.go // Query + handler to check status of a user session
│   │   │   └── list_active_sessions.go    // Query + handler to list all active sessions for a user
│   │   ├── services/                      // Higher-level application services for domain orchestration
│   │   │   ├── session_service.go         // Service dealing with session-related logic (calling domain, repos)
│   │   │   └── user_service.go            // Service dealing with user-related logic (calling domain, repos)
│   │   └── ports/                         // Defines inbound/outbound ports (interfaces) for the application layer
│   │       ├── inbound/                   // Inbound ports (primary adapters) where external clients call into the app
│   │       │   ├── rest/                  // REST/HTTP controllers or routers
│   │       │   │   └── api.go             // Example REST entry (API endpoints, routes, etc.)
│   │       │   └── websocket/             // WebSocket inbound logic
│   │       │       ├── handler.go         // Upgrades HTTP to WebSocket, manages initial connection logic
│   │       │       ├── connection.go      // Handles read/write loops on a single WebSocket connection
│   │       │       ├── hub.go             // Manages multiple connections (register, unregister, broadcast)
│   │       │       ├── message.proto      // Protobuf schema for WS messages (if using Protobuf for WS data)
│   │       │       └── message.pb.go      // Generated Go code from .proto (serialization/deserialization)
│   │       └── outbound/                  // Outbound ports (secondary adapters) for external storage/services
│   │           ├── user_repository.go     // Interface defining how we persist/fetch users (implemented by adapters)
│   │           └── session_repository.go  // Interface defining how we persist/fetch sessions (implemented by adapters)
│   ├── adapters/                          // Concrete implementations of outbound ports (DB, external APIs, messaging)
│   │   ├── persistence/                   // Persistence layer: database-specific logic
│   │   │   ├── session_repository_postgres.go // Postgres implementation of SessionRepository
│   │   │   └── user_repository_postgres.go    // Postgres implementation of UserRepository
│   │   ├── externalapi/                   // Example external API client(s)
│   │   │   └── external_api_client.go     // Calls a third-party REST endpoint or service
│   │   └── messaging/                     // Messaging/event bus adapters
│   │       ├── event_bus.go              // Publishes or subscribes domain events (e.g., Kafka, NATS)
│   │       ├── command_bus.go            // Dispatches commands to handlers asynchronously or in-memory
│   │       └── query_bus.go              // Dispatches queries to handlers asynchronously or in-memory
│   └── utils/                             // Shared internal helpers or utilities
│       └── error_utils.go                // Example error handling or custom error wrappers
├── migrations/                            // Database migration scripts and related docs
│   ├── 001_init.sql                       // Initial schema definition (tables, indexes)
│   └── README.md                          // Instructions or notes for running migrations
├── test/                                  // Integration or end-to-end tests separate from unit tests
│   ├── integration/
│   │   └── user_integration_test.go       // Integration test verifying user flows with a real or test DB
│   └── e2e/
│       └── session_e2e_test.go           // End-to-end test covering session scenarios from a user’s POV
├── pkg/                                   // Shared libraries (config loaders, logging, etc.) usable across modules
│   ├── config/
│   │   ├── config.yaml                    // App config defaults (DB host, feature flags, etc.)
│   │   └── config_loader.go               // Parses config.yaml and merges with environment variables
│   └── logger/
│       └── logger.go                      // Simple or advanced logging wrapper (zap/logrus, etc.)
├── go.mod                                 // Go module definition (module name, version requirements)
└── go.sum                                 // Checksums for dependencies (auto-managed by 'go mod' tooling)



Comments on Each Line
Top-Level
goproject_with_files/
The root of your Go module.
cmd/
cmd/app/
Contains the main package for your primary application (HTTP/WS server, gRPC, etc.).

main.go
Your application’s entry point. Often does dependency injection, starts servers, etc.

cmd/worker/
A second executable (main package) for a background worker or job processor.

main.go
The entry point for the worker—kicks off scheduled tasks, queue consumers, etc.

internal/ (Private Code)
domain/
Core domain logic: entities, aggregates, pure business rules.

session.go: Domain entity for sessions (expiration, user linkage).
user.go: Domain entity for users (IDs, validations, roles).
application/
Use-case layer: commands, queries, domain orchestration.

commands/:
command_handler.go: Common interfaces for command handlers.
register_user.go, start_user_session.go, end_user_session.go: Each file = a command + its handler logic.
queries/:
query_handler.go: Common interfaces for query handlers.
get_user.go, get_user_session_status.go, list_active_sessions.go: Each file = a query + its handler logic.
services/:
session_service.go, user_service.go: Higher-level application services coordinating domain logic (often used by commands/queries).
ports/:
inbound/: Inbound (primary) ports.
rest/
api.go: Could define HTTP endpoints or an overall REST router.
websocket/
handler.go, connection.go, hub.go: WebSocket logic, managing connections, broadcast, etc.
message.proto, message.pb.go: Protobuf definitions & generated code for WS messages (if using Protobuf serialization).
outbound/: Outbound (secondary) ports.
user_repository.go, session_repository.go: Interfaces the application layer relies on for persistence.
adapters/
Implementations of outbound ports (DB, external services, messaging).

persistence/:
session_repository_postgres.go, user_repository_postgres.go: Concrete DB logic for sessions/users (implementing the above repository interfaces).
externalapi/:
external_api_client.go: A wrapper or client calling outside REST APIs.
messaging/:
event_bus.go, command_bus.go, query_bus.go: Examples of event or message bus adapters, possibly implementing publish/subscribe logic or dispatching commands/queries asynchronously.
utils/
Shared helpers or internal-only libraries (like error_utils.go for custom error wrapping).

migrations/
001_init.sql
An example migration script for initializing your DB schema (tables, constraints).
README.md
Explains how to run migrations or documents your DB versioning process.
test/
integration/:
user_integration_test.go: Example integration test, e.g. verifying user flows end-to-end with a live DB.
e2e/:
session_e2e_test.go: Example end-to-end test covering broader flows (like session creation, usage, expiration).
pkg/ (Optional Shared Libraries)
config/:
config.yaml: YAML with app config defaults (DB host, feature flags, etc.).
config_loader.go: Loads/merges env vars, handles config logic.
logger/:
logger.go: A simple or advanced logging wrapper (could wrap Zap, Logrus, etc.).
go.mod / go.sum
Defines your Go module name and tracks dependency versions. Managed by go mod commands.
Potential Redundancies or Missing Pieces
cmd/worker/:

If you don’t actually need a worker process, remove this entire folder.
If you do, great—keep it and implement background tasks.
pkg/:

If you have no truly reusable libraries, you could fold some of these into internal/utils/.
But many teams keep config/ and logger/ in pkg/ to signal reusability across multiple apps or microservices.
api.go in rest/:

If it’s just a placeholder, you could rename it to user_controller.go or split it by resource.
If it’s a top-level router with multiple sub-routes, that’s valid.
message.proto:

If Protobuf is not essential to your WS traffic (maybe you use JSON?), you can remove it.
Otherwise, perfect to keep for strongly typed messaging.
test/ vs. in-package _test.go:

Some teams keep tests alongside their code (e.g. user_test.go next to user.go).
Others prefer a separate test/ folder for integration or E2E. Both approaches are valid.
Overall, this revised structure is quite solid for a Go project using clean/hexagonal concepts. You have clear boundaries between domain, application, inbound ports, and outbound adapters, plus extra folders for migrations, test


// OLD EXAMPLES

// THESE ARE IDIOTMATIC GO EXAMPLES OF CLEAN ONION HEXAGONAL PORTS AND ADAPTER ARCHITECTURE
// AND  A BRIEF DESCRIPTION OF WHAT TYPE OF CODE SHOULD GO IN THE FOLDERS

goproject/
├── cmd/                    # Application entry points (main packages)
│   ├── app/                # Main app package
│   └── worker/             # Worker processes, if any
├── internal/               # Private application logic
│   ├── adapters/           # Frameworks, drivers, secondary ports (outbound adapters)
│   │   ├── db/             # Database implementations
│   │   ├── http/           # HTTP clients or servers
│   │   └── messaging/      # Messaging implementations (e.g., Kafka, RabbitMQ)
│   ├── application/        # Application layer (use cases)
│   │   ├── commands/       # Command handlers
│   │   ├── queries/        # Query handlers
│   │   └── services/       # Application services
│   ├── domain/             # Core domain logic (entities, aggregates, domain services)
│   │   ├── user/           # Domain entities and logic for user
│   │   └── order/          # Domain entities and logic for order
│   ├── ports/              # Primary ports (inbound adapters)
│   │   ├── rest/           # REST controllers
│   │   ├── grpc/           # gRPC endpoints
│   │   └── cli/            # Command-line interfaces
│   └── utils/              # Utility packages (common helpers, error handling)
├── pkg/                    # Shared libraries (optional, if useful across projects)
│   ├── logger/             # Logging utilities
│   └── config/              # Configuration utilities
├── migrations/             # Database migrations
└── test/                   # Integration and end-to-end tests

goproject_with_files/
├── cmd/
│   ├── app/
│   │   └── main.go
├── internal/
│   ├── domain/
│   │   │── session.go
│   │   └── user.go
│   ├── application/
│   │   ├── commands/
│   │   │   ├── command_handler.go
│   │   │   ├── register_user.go
│   │   │   ├── start_user_session.go
│   │   │   └── end_user_session.go
│   │   ├── queries/
│   │   │   ├── query_handler.go
│   │   │   └── get_user.go
│   │   │   ├── get_user_session_status.go
│   │   │   └── list_active_sessions.go
│   │   ├── services/
│   │   │   │── session_service.go
│   │   │   └── user_service.go
│   │   └── outboundports/
│   │       ├── user_repository.go
│   │       └── session_repository.go
│   ├── inboundports/
│   │   │── websocket/
│   │   │   ├── handler.go
│   │   │   ├── connection.go
│   │   │   ├── hub.go
│   │   │   ├── message.proto         // Protobuf schema for your WebSocket messages
│   │   │   └── message.pb.go         // Generated Go code from message.proto
│   │   └── api/
│   │       └── api.go
│   ├── adapters/
│   │   ├── persistence/
│   │   |   ├── session_repository_postgres.go
│   │   |   └── user_repository_postgres.go
│   │   ├── http/
│   │   │   └── external_api_client.go
│   │   └── messaging/
│   │       ├── event_bus.go
│   │       ├── command_bus.go
│   │       └── query_bus.go
│   └── utils/
│       └── error_utils.go
├── pkg/
│   ├── config/
│   │   ├── config.yaml
│   │   └── config_loader.go
│   └── logger/
│       └── logger.go
├── go.mod
└── go.sum

// THIS IS AN EXPLICIT NAMING EXAMPLE OF CLEAN ONION HEXAGONAL PORTS AND ADAPTER ARCHITECTURE
// THAT HELPS UNDERSTANDING THE 

explicitproject/
├── domain
│   ├── model
│   │   ├── session.go
│   │   └── user.go
│   └── services
│       ├── session_service.go
│       └── user_service.go
│
├── application
│   ├── commands
│   │   ├── command_handler.go
│   │   ├── start_user_session.go
│   │   └── end_user_session.go
│   ├── queries
│   │   ├── query_handler.go
│   │   ├── get_user_session_status.go
│   │   └── list_active_sessions.go
│   └── ports
│       ├── session_repository.go
│       └── user_repository.go
│
├── infrastructure
│   ├── adapters
│   │   ├── logging
│   │   │   └── logger_zap.go
│   │   ├── messaging
│   │   │   ├── command_bus.go
│   │   │   ├── event_bus.go
│   │   │   └── query_bus.go
│   │   └── persistence
│   │       ├── session_repository_postgres.go
│   │       └── user_repository_postgres.go
│   ├── config
│   │   ├── config.yaml
│   │   └── config_loader.go
│   └── main.go
│
└── interfaces
    ├── rest
    │   ├── session_controller.go
    │   └── user_controller.go
    └── grpc
        ├── session_service.proto
        ├── session_service.go
        ├── user_service.proto
        └── user_service.go


myproject/
├── domain/                       # The core business logic
│   ├── model/                    # Entities, value objects, aggregates
│   │   ├── user.go
│   │   └── order.go
│   └── services/                 # Domain-level services (pure business rules)
│       ├── user_service.go
│       └── order_service.go
├── application/                  # Application/use-case layer
│   ├── commands/                 # Command types & command handlers (CQRS “write” side)
│   │   ├── command_handler.go
│   │   ├── create_order.go
│   │   └── register_user.go
│   ├── queries/                  # Query types & query handlers (CQRS “read” side)
│   │   ├── query_handler.go
│   │   ├── get_order.go
│   │   └── get_user.go
│   └── ports/                    # Interfaces (ports) the app layer expects
│       ├── user_repository.go    # e.g. interface UserRepository
│       └── order_repository.go   # e.g. interface OrderRepository
├── infrastructure/               # Technical details and outbound adapters
│   ├── adapters/
│   │   ├── db/                   # Database-specific repositories
│   │   │   ├── user_repository_postgres.go
│   │   │   └── order_repository_postgres.go
│   │   ├── messaging/            # Message bus, event streaming, etc.
│   │   │   ├── event_bus.go
│   │   │   └── command_bus.go
│   │   └── logging/              # Logging adapter(s)
│   │       └── logger_zap.go
│   ├── config/                   # Configuration files & loaders
│   │   ├── config.yaml
│   │   └── config_loader.go
│   └── main.go                   # Main application setup/bootstrap (if you prefer here)
├── interfaces/                   # Inbound adapters (primary ports)
│   ├── rest/                     # REST controllers
│   │   ├── user_controller.go
│   │   └── order_controller.go
│   └── grpc/                     # gRPC services
│       ├── user_service.proto
│       ├── user_service.go
│       ├── order_service.proto
│       └── order_service.go
├── migrations/                   # Database migrations (SQL files, or migration scripts)
└── test/                         # Integration / end-to-end tests

explicitproject/                            // The root directory of the project
├── domain                                  // The core domain layer (business logic, entities, domain services)
│   ├── model                               // Holds domain models/entities and value objects
│   │   ├── session.go                      // Domain entity or aggregate for "Session"
│   │   └── user.go                         // Domain entity or aggregate for "User"
│   └── services                            // Domain services that contain business rules not tied to a single entity
│       ├── session_service.go              // Service for session-related business logic (pure domain)
│       └── user_service.go                 // Service for user-related business logic (pure domain)
│
├── application                             // The application/use-case layer (commands, queries, use-case coordination)
│   ├── commands                            // Defines command types and their handlers (write-side operations)
│   │   ├── command_handler.go              // Common interfaces or base structs for handling commands
│   │   ├── start_user_session.go           // A command + handler to start a user session
│   │   └── end_user_session.go             // A command + handler to end a user session
│   ├── queries                             // Defines query types and their handlers (read-side operations)
│   │   ├── query_handler.go                // Common interfaces or base structs for handling queries
│   │   ├── get_user_session_status.go      // A query + handler to get user session status
│   │   └── list_active_sessions.go         // A query + handler to list active sessions
│   └── ports                               // Interfaces (ports) that the application layer depends on (implemented elsewhere)
│       ├── session_repository.go           // Interface for session-related data operations
│       └── user_repository.go              // Interface for user-related data operations
│
├── infrastructure                          // Technical details, external integrations, and implementations of application ports
│   ├── adapters                            // Outbound adapters (DB, messaging, logging, etc.)
│   │   ├── logging                         // Logging adapter(s) that implement or wrap external log frameworks
│   │   │   └── logger_zap.go              // Example logging adapter using the Zap library
│   │   ├── messaging                       // Messaging adapters (command bus, event bus, query bus)
│   │   │   ├── command_bus.go             // Implementation for dispatching commands (possibly asynchronous)
│   │   │   ├── event_bus.go               // Implementation for publishing or subscribing to domain events
│   │   │   └── query_bus.go               // Implementation for dispatching queries (possibly asynchronous or synchronous)
│   │   └── persistence                    // Persistence adapters that implement repositories defined in "application/ports"
│   │       ├── session_repository_postgres.go  // Postgres implementation of the SessionRepository interface
│   │       └── user_repository_postgres.go     // Postgres implementation of the UserRepository interface
│   ├── config                             // Configuration files and loaders
│   │   ├── config.yaml                    // Example YAML config file (DB info, feature flags, etc.)
│   │   └── config_loader.go               // Code to load/parse config files, environment variables, etc.
│   └── main.go                            // Application bootstrap or entry point (optional here), setting up DI, servers, etc.
│
└── interfaces                             // Inbound adapters (primary ports) exposing app functionality to external clients
    ├── rest                               // REST/HTTP controllers or handlers
    │   ├── session_controller.go          // REST endpoints for session management
    │   └── user_controller.go             // REST endpoints for user management
    └── grpc                               // gRPC definitions and service implementations
        ├── session_service.proto          // Protobuf definition for session-related RPC services
        ├── session_service.go             // Generated or custom gRPC service logic for sessions
        ├── user_service.proto             // Protobuf definition for user-related RPC services
        └── user_service.go                // Generated or custom gRPC service logic for users


// THIS IS JUST ANOTHER EXAMPLE I DON'T WANT TO DELETE YET

internal/
├── application/
│   ├── commands/
│   │   ├── envelope.go        # Defines the envelope (e.g., protobuf command oneof structure)
│   │   ├── registry.go        # Handles command registration
│   │   └── dispatcher.go      # Handles dispatching commands
│   ├── queries/
│   │   ├── envelope.go        # Defines the envelope (e.g., protobuf query oneof structure)
│   │   ├── registry.go        # Handles command registration
│   │   └── dispatcher.go      # Handles dispatching queries
│   ├── messages/
│   │   ├── envelope.go        # Defines the envelope (e.g., protobuf message oneof structure that contains an command or a query)
│   │   ├── registry.go        # Handles message registration
│   │   └── dispatcher.go      # Handles dispatching message 


// CHOSEN ARCHITECTURE JUST FOLDERS
goproject_with_files/
├── cmd/
│   ├── app/
│   └── worker/
├── internal/
│   ├── domain/
│   │   └── security/
│   ├── application/
│   │   ├── commands/
│   │   ├── queries/
│   │   ├── services/
│   │   ├── command_bus.go                 
│   │   └── ports/
│   │       ├── inbound/
│   │       │   ├── rest/
│   │       │   └── websocket/
│   │       └── outbound/
│   ├── adapters/
│   │   ├── persistence/
│   │   ├── externalapi/
│   │   └── messaging/
│   └── utils/
├── migrations/
├── test/
│   ├── integration/
│   └── e2e/
├── pkg/
│   ├── config/
│   └── logger/
├── go.mod                                 
└── go.sum                                 